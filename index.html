<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/overrides.css">
</head>

<body>

<div id="main">
    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>QuickScore</h1>
<blockquote>
<p><code>quick-score</code> is a JavaScript string-scoring and fuzzy-matching library based on the Quicksilver algorithm, designed for smart auto-complete.</p>
</blockquote>
<p><a href="https://travis-ci.com/fwextensions/quick-score"><img src="https://img.shields.io/travis/com/fwextensions/quick-score.svg?style=flat-square" alt="Build Status"></a>
<a href="https://codecov.io/gh/fwextensions/quick-score"><img src="https://img.shields.io/codecov/c/github/fwextensions/quick-score.svg?style=flat-square" alt="Code Coverage"></a>
<a href="https://www.npmjs.com/package/quick-score"><img src="https://img.shields.io/david/fwextensions/quick-score.svg?style=flat-square" alt="Dependencies"></a>
<a href="https://www.npmjs.com/package/quick-score"><img src="https://img.shields.io/bundlephobia/minzip/quick-score.svg?style=flat-square" alt="Minzip Size"></a>
<a href="https://github.com/fwextensions/quick-score/blob/master/LICENSE"><img src="https://img.shields.io/npm/l/quick-score.svg?style=flat-square" alt="MIT License"></a></p>
<!--[![Package][package-badge]][package]-->
<p>QuickScore improves on the original Quicksilver algorithm by tuning the scoring for long strings, such as webpage titles or URLs, so that the order of the search results makes more sense.  It's used by the <a href="https://chrome.google.com/webstore/detail/quickey-%E2%80%93-the-quick-tab-s/ldlghkoiihaelfnggonhjnfiabmaficg">QuicKey extension for Chrome</a> to enable users to easily find an open tab via search.</p>
<p>QuickScore is fast, dependency-free, and is less than 2KB when minified and gzipped.</p>
<h2>Demo</h2>
<p><a href="https://fwextensions.github.io/quick-score-demo/">See QuickScore in action</a>, and compare its results to other scoring and matching libraries.</p>
<h2>Install</h2>
<pre class="prettyprint source lang-sh"><code>npm install --save quick-score
</code></pre>
<h2>Usage</h2>
<h3>Calling <code>quickScore()</code> directly</h3>
<p>You can import the <a href="https://fwextensions.github.io/quick-score/global.html#quickScore"><code>quickScore()</code></a> function from the ES6 module:</p>
<pre class="prettyprint source lang-js"><code>import {quickScore} from &quot;quick-score&quot;;
</code></pre>
<p>Or from a property of the CommonJS module:</p>
<pre class="prettyprint source lang-js"><code>const quickScore = require(&quot;quick-score&quot;).quickScore;
</code></pre>
<p>You can then call <code>quickScore()</code> with a <code>string</code> and a <code>query</code> to score against that string.  It will return a floating point score between <code>0</code> and <code>1</code>.  A higher score means that string is a better match for the query.  A <code>1</code> means the query is the highest match for the string, though the two strings may still differ in case and whitespace characters.</p>
<pre class="prettyprint source lang-js"><code>quickScore(&quot;thought&quot;, &quot;gh&quot;);   // 0.7000000000000001
quickScore(&quot;GitHub&quot;, &quot;gh&quot;);    // 0.9166666666666666
</code></pre>
<p>Matching <code>gh</code> against <code>GitHub</code> returns a higher score than <code>thought</code>, because it matches the capital letters in <code>GitHub</code>, which are weighted more highly.</p>
<h3>Sorting lists of strings with a <code>QuickScore</code> instance</h3>
<p>A typical use-case for string scoring is auto-completion, where you want the user to get to the desired result by typing as few characters as possible.  Instead of calling <code>quickScore()</code> directly for every item in a list and then sorting it based on the score, it's simpler to use an instance of the <a href="https://fwextensions.github.io/quick-score/QuickScore.html"><code>QuickScore</code></a> class:</p>
<pre class="prettyprint source lang-js"><code>import {QuickScore} from &quot;quick-score&quot;;

const qs = new QuickScore([&quot;thought&quot;, &quot;giraffe&quot;, &quot;GitHub&quot;, &quot;hello, Garth&quot;]);
const results = qs.search(&quot;gh&quot;);

//=>
[
    {
        &quot;item&quot;: &quot;GitHub&quot;,
        &quot;score&quot;: 0.9166666666666666,
        &quot;matches&quot;: [[0, 1], [3, 4]]
    },
    {
        &quot;item&quot;: &quot;hello, Garth&quot;,
        &quot;score&quot;: 0.6263888888888888,
        &quot;matches&quot;: [[7, 8], [11, 12]]
    },
    ...
</code></pre>
<p>The <code>results</code> array is a list of objects that represent the results of matching the query against each string that was passed to the constructor.  It's sorted high to low on each item's score.  Strings with identical scores are sorted alphabetically and case-insensitively.  In the simple case of scoring bare strings, each item in the results array has three properties:</p>
<ul>
<li><code>item</code>: the string that was scored</li>
<li><code>score</code>: the floating point score of the string for the current query</li>
<li><code>matches</code>: an array of arrays that specifies the character ranges where the query matched the string</li>
</ul>
<p>This array could then be used to render a list of matching results as the user types a query.</p>
<h3>Sorting lists of objects</h3>
<p>Typically, you'll be sorting items more complex than a bare string.  To tell QuickScore which of an object's keys to score a query against, pass an array of key names or dot-delimited paths as the second parameter to the <code>QuickScore()</code> constructor:</p>
<pre class="prettyprint source lang-js"><code>const bookmarks = [
    {
        &quot;title&quot;: &quot;lodash documentation&quot;,
        &quot;url&quot;: &quot;https://lodash.com/docs&quot;
    },
    {
        &quot;title&quot;: &quot;Supplying Images - Google Chrome&quot;,
        &quot;url&quot;: &quot;developer.chrome.com/webstore/images&quot;
    },
    ...
];
const qs = new QuickScore(bookmarks, [&quot;title&quot;, &quot;url&quot;]);
const results = qs.search(&quot;devel&quot;);

//=>
[
    {
        &quot;item&quot;: {
            &quot;title&quot;: &quot;Supplying Images - Google Chrome&quot;,
            &quot;url&quot;: &quot;developer.chrome.com/webstore/images&quot;
        },
        &quot;score&quot;: 0.9138888888888891,
        &quot;scoreKey&quot;: &quot;url&quot;,
        &quot;scores&quot;: {
            &quot;title&quot;: 0,
            &quot;url&quot;: 0.9138888888888891
        },
        &quot;matches&quot;: {
            &quot;title&quot;: [],
            &quot;url&quot;: [[0, 5]]
        }
    },
    ...
</code></pre>
<p>Each item in the results array has a few more properties when matching against objects:</p>
<ul>
<li><code>item</code>: the object that was scored</li>
<li><code>score</code>: the highest score from among the individual key scores</li>
<li><code>scoreKey</code>: the name of the key with the highest score, which will be an empty string if they're all zero</li>
<li><code>scores</code>: a hash of the individual scores for each key</li>
<li><code>matches</code>: a hash of arrays that specify the character ranges of the query match for each key</li>
</ul>
<p>When two items have the same score, they're sorted alphabetically and case-insensitively on the first key in the keys array.  In the example above, that would be <code>title</code>.</p>
<h3>Highlighting matched letters</h3>
<p>Many search interfaces highlight the letters in each item that match what the user has typed.  The <code>matches</code> property of each item in the results array contains information that can be used to highlight those matching letters.</p>
<p>This function is an example of how an item could be highlighted using React.  It surrounds each sequence of matching letters in a <code>&lt;mark&gt;</code> tag and then returns the full string in a <code>&lt;span&gt;</code>.  You could then style the <code>&lt;mark&gt;</code> tag to be bold or a different color to highlight the matches.  (Something similar could be done by concatenating plain strings of HTML tags, though you'll need to be careful to escape the substrings.)</p>
<pre class="prettyprint source lang-jsx"><code>function highglight(string, matches) {
    const substrings = [];
    let previousEnd = 0;

    for (let [start, end] of matches) {
        const prefix = string.substring(previousEnd, start);
        const match = &lt;mark>{string.substring(start, end)}&lt;/mark>;

        substrings.push(prefix, match);
        previousEnd = end;
    }

    substrings.push(string.substring(previousEnd));

    return &lt;span>{React.Children.toArray(substrings)}&lt;/span>;
}
</code></pre>
<p>The <a href="https://fwextensions.github.io/quick-score-demo/">QuickScore demo</a> uses this approach to highlight the matches, via the <a href="https://github.com/fwextensions/quick-score-demo/blob/master/src/js/MatchedString.js">MatchedString</a> component.</p>
<h2>API</h2>
<p>See the <a href="https://fwextensions.github.io/quick-score/">API docs</a> for a full description of the <a href="https://fwextensions.github.io/quick-score/QuickScore.html">QuickScore class</a> and the <a href="https://fwextensions.github.io/quick-score/global.html#quickScore">quickScore function</a>.</p>
<h2>License</h2>
<p><a href="./LICENSE">MIT</a> Â© <a href="https://github.com/fwextensions">John Dunning</a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="QuickScore.html">QuickScore</a></li><li><a href="Range.html">Range</a></li></ul><h3>Global</h3><ul><li><a href="global.html#quickScore">quickScore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Mon Jan 20 2020 03:06:05 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>